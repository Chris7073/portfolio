import g from"./F9lAl6My.js";import{_ as w}from"./D9_uRfKO.js";import{_ as y,a as $,b as V,c as x,d as S}from"./vknXrGkI.js";import{_ as k}from"./7BipDWe9.js";import{_ as r,a as m}from"./CEVZJrC7.js";import{u as C}from"./mRfgjOGG.js";import{s as f}from"./vF40CwvS.js";import{r as N,j as W,G as B,c as T,b as t,w as l,l as s,o as j,d as i,a as d}from"./BRJGdOIR.js";import"./D_774sHo.js";const P={__name:"website",setup(I){const{data:u,refresh:_}=C("/api/web-settings","$nhekhD3ekd"),a=N({name:"",desc:"",mail:""}),c=W(()=>{if(u.value)return a.value.name!==u.value.name||a.value.desc!==u.value.desc||a.value.mail!==u.value.mail});B(u,n=>{n&&(a.value.name=n.name,a.value.desc=n.desc,a.value.mail=n.mail)});async function p(){try{await fetch("/api/websettings/update-web-settings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a.value)}),f("Settings updated successfully","success"),await _()}catch(n){f("Failed to update settings:"+n,"error")}}return(n,e)=>{const v=g,b=w;return j(),T("div",null,[t(s(S),null,{default:l(()=>[t(s(y),null,{default:l(()=>[t(s($),{class:"content-middle flex"},{default:l(()=>[t(v,{name:"uil:setting",class:"text-lg mr-2"}),e[3]||(e[3]=i(" Website Settings "))]),_:1}),t(s(V),null,{default:l(()=>e[4]||(e[4]=[i("Here you can edit your navbar")])),_:1})]),_:1}),t(s(x),{class:"grid gap-4"},{default:l(()=>[d("div",null,[t(s(r),{for:"website_name"},{default:l(()=>e[5]||(e[5]=[i("Website Name")])),_:1}),t(s(m),{id:"website_name",modelValue:a.value.name,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.name=o)},null,8,["modelValue"])]),d("div",null,[t(s(r),{for:"website_desc"},{default:l(()=>e[6]||(e[6]=[i("Website Description")])),_:1}),t(s(m),{id:"website_desc",modelValue:a.value.desc,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.desc=o)},null,8,["modelValue"])]),d("div",null,[t(s(r),{for:"contact_mail"},{default:l(()=>e[7]||(e[7]=[i("Contact Mail")])),_:1}),t(s(m),{id:"contact_mail",modelValue:a.value.mail,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.mail=o),type:"email"},null,8,["modelValue"])])]),_:1}),t(s(k),{class:"flex justify-between"},{default:l(()=>[t(b,{disabled:!s(c),onClick:p},{default:l(()=>e[8]||(e[8]=[i("Save Settings")])),_:1},8,["disabled"])]),_:1})]),_:1})])}}};export{P as default};
